<!DOCTYPE html>
<html lang="zh-Hans">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>记暑期实践出行 - Zecong Hu&#39;s blog</title>
  <meta name="description" content="要是不记录下这次出行的过程的话，也未免太遗憾了。 顺带一提，这篇文章在 QQ 空间中被屏蔽了，说是“带有不符合互联网相关安全规范的信息”。">

  
  <link rel="stylesheet" href="/assets/styles/core.css?v=20191121014911">
  <link rel="stylesheet" href="/assets/styles/fontello.css?v=20191121014911">
  <link rel="stylesheet" href="/assets/styles/highlighting/default.css?v=20191121014911">

  <link rel="canonical" href="http://zecong.hu/2015/07/18/a-trip-with-a-twist/">
  <link rel="alternate" type="application/rss+xml" title="Zecong Hu&#39;s blog" href="/feed.xml">

  <link rel="apple-touch-icon" sizes="57x57" href="/assets/favicon/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/favicon/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/favicon/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/favicon/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/favicon/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/favicon/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/favicon/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/favicon/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/favicon/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/favicon/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
  <link rel="manifest" href="/assets/favicon/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/favicon/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://unpkg.com/tippy.js@4/themes/light.css">
  <script src="https://unpkg.com/popper.js@1/dist/umd/popper.min.js"></script>
  <script src="https://unpkg.com/tippy.js@4/umd/index.all.min.js"></script>
  

  

  
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48327586-2', 'auto');
  ga('send', 'pageview');

</script>
  

  
</head>

  <body>

  <main class="page-content" aria-label="Content">
    
    <div id="table-of-contents">
      <div class="toc-wrapper">
        <ul class="section-nav">
</ul>
      </div>
    </div>
    

    <div class="wrapper">
      <nav class="site-nav">
  
  
  	
  	<a class="page-link" href="/" >About</a>
  	
  
  	
  	<a class="page-link" href="/index/en/index.html" >Articles</a>
  	
  
  	
  	<a class="page-link" href="/index/cn/index.html" >文章列表</a>
  	
  
  	
  
  	
  
</nav>



<article class="post" lang="zh-Hans" itemscope itemtype="http://schema.org/BlogPosting" >

  <header class="post-header">
  <a class="site-title" href="/">
  	
      Zecong Hu&#39;s blog
    
  </a>
  <h1 class="post-title" itemprop="name headline">记暑期实践出行</h1>
</header>




  <div class="post-content" itemprop="articleBody">
    <p>要是不记录下这次出行的过程的话，也未免太遗憾了。</p>

<p>顺带一提，这篇文章在 QQ 空间中被屏蔽了，说是“带有不符合互联网相关安全规范的信息”。</p>

<!--more-->
<p><br /></p>

<p>17号刚刚结束小学期，我们暑期实践支队18号就出发去贵州安顺。计划是先坐18号上午8点45分的火车，与次日11点到贵阳，然后再搭下午一点的火车去安顺。</p>

<p>头一天晚上我才开始清东西，一直清到了2点钟才睡下，并在手机上定了5点30分的闹钟。</p>

<p>谁知道，我醒来后一看表，发现已经7点30分了。当时我直接愣住了。反应过来之后我赶紧下床拿东西，因为紧张而手忙脚乱。我在 Uber 上预约了一辆从北门出发的车，然后拖着箱子下楼，骑车前往北门。</p>

<p>结果司机比我到的还晚，等上车已经是8点02分了。与我的心急火燎相对的是，司机师傅开车不紧不慢，十分稳当，把我给急坏了。一路上等了好多红绿灯，我都想在中途下车改乘地铁了。上了三环之后速度快了不少，在8点25分时离火车站就只有一个路口了。我当时特别开心，想着肯定没问题了。</p>

<p>可是就这一个路口走了我们快10分钟。下车之后我一路狂奔，也不知道是不是因为没睡好还没吃早饭，感觉脚像灌了铅一样，十分沉重，而且当时的内心几乎是绝望的。进站和安检时我都插队到了最前面，过了安检就直奔二楼5号候车厅。可这个时候已经8点40多了，已经停止检票了。恳求检票员无果，只能作罢。</p>

<p>既然误了火车，那只好换别的车次。我搜了一下，发现能在19号下午之前到的车次要么停售，要么无票，要么只有一等座。于是我选择了坐飞机。我在携程上搜到有在上海虹桥转机的方案，加起来一千出头，感觉还能接受。也不知道是火车站网络太差还是怎么回事，按了“去支付”之后就没有反应了。于是我决定先回寝室，回去再买票。在回去之前我还去了一趟退票处，发现只能改签不能退票。</p>

<p>坐地铁回到寝室之后，室友朝我投来了怜悯而温柔的眼神。当务之急是订票，于是我打开电脑，发现电脑端上并没有那个一千出头的组合，只有一千二的。罢了，就一千二吧。一开始我选择的是晚上7点从北京起飞飞往虹桥，然后次日早上7点50分从虹桥起飞飞往贵阳的组合，就在支付的时候系统提醒我说恰好卖完。于是只能把第一趟航班改成22点起飞的。由于第一趟航班在0点前就到了上海，所以得在上海过夜。我查了一下机场附近的宾馆，发现都太贵了，于是准备直接睡机场，或者干脆熬到第二趟航班登机。</p>

<p>定完票之后，到去机场为止的这段时间基本上就是自由时间了。我把上午匆匆忙忙走之前没清好的东西清理了一下，多洗了一两件衣服，重新整理了一下箱子，和室友看了两集片，打了两场比赛，其中一场一道题不会另一场弃疗。本来准备18点出发去机场，结果收到短信说航班延误到22点45分，再加上自己磨磨蹭蹭，最后19点30分才出发，大概21点10分到了机场。</p>

<p>走之前还在讨论说今天有暴雨和雷电预警，韦师表示预警了一天但一直没有雨也没有雷。到了机场才发现气氛不对，原本应该写着“经济舱”的值机柜台全都写着“延误证明办理”，旁边还有一块围了好多人的大牌子，隐隐约约写着“延误信息”一类的东西。广播里也在说“受雷雨天气的影响，东航、南航和海航的部分航班不能按时起飞，请尽快联系航空公司”云云。我当时想的是我的航班号好像是 MU5160，MU 是厦航吧？厦航好像没问题啊。于是就去厦航的柜台排队了。</p>

<p>快排到我了才发现不对啊，MF 才是厦航啊。一看短信发现 MU 是东航，顿时感觉不好了。于是到东航的大牌子那里去看了看，那里写了“已经从目的机场起飞”和“已经取消”的航班，两边都没有我这一趟。其它去上海的航班，只有原定起飞时间在20点之前的才在前面那一栏中。我跑到售票窗口尝试改签，被告知这种情况下只能去柜台改签。在柜台排队的过程真的是煎熬，毫不夸张地说，就好像是在手术室门口等结果一样。每次向前一步，我就担心剩余的座位被其他人抢去了，更担心自己的航班取消了。我在心里祈祷不要发生这样的事情，然而轮到我的时候，还是被告知了没有可以改签的航班。我只好回到牌子那里等消息。每次工作人员往牌子上写新信息的时候，我都像是在等成绩一样紧张。半个小时后，还是只知道我这趟航班不定期延误，但尚未取消。到这个时候我差不多已经看开了，想着“只要能起飞，能在第二天6点前到上海就好了”。</p>

<p>后来又有两趟20点左右的航班确定起飞了，抱着试一试的想法我又去柜台排队，又是一次煎熬。结果还是成功改签到了 MU5126。这趟航班原定20点起飞，现在预计抵达首都机场的时间是22点50分。我办理了托运，过了安检，就到候机厅等着了。</p>

<p>最后确定的登机时间是23点10分。排队等了大概20分钟之后，才有通勤车接我们到飞机下。上了飞机之后发现是大飞机，一排有8个座，还小小地兴奋了一下。在飞机上坐到了大概0点14分，想着为啥还不起飞，这时听到了机上广播说，由于要等之前的航班全部起飞，预计至少需要等3个小时。飞机上一下就炸锅了，好多人说要中止行程，乘务员只好联系地面。不过最后真正中止的也没有几个人。反正也没有什么别的办法，我就给手机插上了充电宝，然后准备睡觉。</p>

<p>飞机上睡的很不安稳，一方面比较吵，另一方面整个环境也不怎么舒服。大概1点30的样子，我被后座的熊孩子闹腾吵醒了。这个时候客舱里只有非常暗的地面灯，大家基本上都在睡觉。我问乘务员大概什么时候能起飞，她说还要3个小时。我想了想，只要能在5点前起飞应该就能赶上第二趟航班，所以也就接受了。不过夜晚还是非常难熬的，睡又睡不稳，干别的又困。我查了一下航班信息，发现除了已延误时间之外什么都没有。我也顺带查了一下19号从上海出发的别的航班，发现9点50还有另一班，实在不行应该也可以免费改签到这一班。这时候窗外也间歇地下着雨。大概2点左右，我感到飞机在震动，一开始还以为只是开了引擎而已，后来看窗外发现真的在动。广播也说现在准备起飞了。</p>

<p>你真的想象不到我当时有多激动：才2点就可以起飞了。周围很多人在关完手机调完座椅之后就安心地睡了，我决定等到真正起飞了再睡。可接着飞机在跑道上滑了大概10分钟，我开始感觉不对劲了。哪里有滑这么久的？该不会只是动一下让大家不那么焦躁？这时候窗外还下着雨，有一阵子还能听到雨打在机顶的啪嗒声，会不会是雨又下大了又起飞不了了？期间有好几次我听到了逐渐增强的引擎声，但一会儿又弱了下去，浇灭了我好不容易燃起的希望。</p>

<p>幸好过了大概5分钟还是起飞了。这时我才意识到真正起飞时的引擎声和之前听到的完全不是一个级别的。既然起飞了，我也就安心地睡了。</p>

<p>再次醒来的时候，由于手机关机，我也不知道时间。之后不久就传来广播说还有大概半个小时着陆。我在一个有点头晕的半睡半醒的状态下度过了这半个小时。之前广播通知过飞行时间大概是1小时45分，所以我估计着陆的时候大概4点。果然，着陆后打开手机，发现是4点03分。</p>

<p>取完托运的行李之后我就出来了，待在到达层的尚未开始营业的肯德基里。之前准备睡机场的时候，就想过睡肯德基。我坐在肯德基的座位上写完了这篇文章。本来说要看5点04分的日出，结果也错过了。</p>

<p>这趟经历告诉我的，大概就是一定不要睡过头，闹钟要定好而且要多订几个，改签能早走就早走，没事别在下雨天坐飞机，以及不要随便立 flag。这几天立的 flag 大概有：</p>

<ul>
  <li>17号晚上吃饭，“这是这个学期在学校的最后一顿晚饭。”</li>
  <li>17号晚上，“我从来没有定了闹钟还睡过头的时候。”</li>
  <li>18号出发前，“除非地铁停运，不然肯定不会误机。”（我在进圆明园地铁站的时候还真听到了一些与众不同的，包含了当天日期的广播信息……差点吓坏我了……所幸没有影响）</li>
  <li>18号在机场专线上，“这一天都没下雨，完全没有雷雨的迹象。”</li>
  <li>之前挺长一阵子，“我跟你讲，我可是欧皇。”</li>
</ul>

<p>现在是6点，我准备吃完肯德基早餐之后就去办理第二趟航班的值机手续。祝我好运。</p>

  </div>

  <footer class="post-footer">
    <div class="post-meta">
       <time datetime="2015-07-18T22:01:00+00:00" itemprop="datePublished">Jul 18, 2015</time> 
      
    </div>

    
  </footer>

  
  <div id="disqus_thread"></div>
<script>
  var disqus_config = function () {
    this.page.url = 'http://zecong.hu/2015/07/18/a-trip-with-a-twist/';
    this.page.identifier = 'http://zecong.hu/2015/07/18/a-trip-with-a-twist/';
  };

  (function() {
    var d = document, s = d.createElement('script');

    s.src = 'https://huzecong-blog.disqus.com/embed.js';

    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

  
</article>

    </div>
    <script type="text/javascript">
  (function () {
    var resize = function () {
      this.width = 0.5 * (this.naturalWidth || this.width);
    }
    Array.prototype.forEach.call(document.querySelectorAll(".half-size, .retina2x"), function(el) {
      if (el.naturalWidth) {
        resize.call(el);
      } else {
        el.onload = resize;
      }
    });
  })();
</script>

  </main>

  
<script type="text/javascript">
  // Show tooltips for footnotes.
  (function() {
    const footnotes = document.querySelectorAll(".footnotes > ol > li");
    const returnMarkRegex = /("?&nbsp;<a href="#fnref:.+?" class="reversefootnote">↩(<sup>.*?<\/sup>)*<\/a>)+/s;
    const footnoteMarks = document.querySelectorAll("a.footnote");
    for (let index of footnoteMarks.keys()) {
      if (footnotes[index] === undefined) continue;
      const content = footnotes[index].innerHTML.replace(returnMarkRegex, "");
      const footnote = footnoteMarks[index];
      tippy(footnote, {
        content: content,
        arrow: true,
        animation: 'shift-away',
        interactive: true,
        theme: 'light',
        // trigger: 'click',
        size: 'large',
        touch: false,
        touchHold: true,
      });
    }
  })();
</script>



<script type="text/javascript">
  // Add "active" highlight to TOC on left.
  // Credit: https://codemyui.com/sidebar-menu-scroll-progress-indicator/
  (function() {
    const svg_html = ' \
      <svg class="toc-marker" width="200" height="200" \
           xmlns="http://www.w3.org/2000/svg"> \
        <path stroke="#444" stroke-width="1.5" fill="transparent" \
              stroke-dasharray="0, 0, 0, 1000" stroke-linecap="round" \
              stroke-linejoin="round" transform="translate(-0.5, -0.5)" /> \
      </svg> \
      '
    document.querySelector("#table-of-contents .toc-wrapper").innerHTML += svg_html;
  })();

  // Jekyll renders everything on one level, so nested titles are not actuall
  // nested in the DOM. We need to manually create the levels.
  const contentElems = document.querySelector("article > div.post-content").children;
  // A `tocItem` is a dictionary.
  const tocItems = [].slice
    .call(document.querySelectorAll("#table-of-contents li.toc-entry"))
    .map(function(item) {
      const anchor = item.querySelector("a");
      const subList = item.querySelector("ul");
      return {
        item: item,
        href: anchor.getAttribute("href").substr(1),  // remove '#' prefix
        anchor: anchor,
        subList: subList,
      };
    });
  let tocPointer = 0;
  const validTags = ["H1", "H2", "H3", "H4", "H5", "H6"];
  for (let index = 0; index < contentElems.length; ++index) {
    const elem = contentElems[index];
    if (validTags.indexOf(elem.tagName) !== -1) {
      const level = parseInt(elem.tagName[1]);

      if (tocPointer > 0 && tocPointer <= tocItems.length) {
        tocItems[tocPointer - 1].targetBottom = contentElems[index - 1];
      }

      // Current element matches the next entry in the TOC.
      if (tocPointer < tocItems.length &&
          elem.id === tocItems[tocPointer].href) {
        const curTocItem = tocItems[tocPointer];
        curTocItem.level = level;
        curTocItem.titleElem = elem;
        ++tocPointer;
      }
    }
  }
  // Final TOC items has not yet ended.
  if (tocPointer > 0 && tocPointer <= tocItems.length) {
    tocItems[tocPointer - 1].targetBottom = contentElems[contentElems.length - 1];
  }

  let pathLength;

  const tocPath = document.querySelector('.toc-marker path');

  function drawPath() {
    const path = [];
    let pathIndent,
        topOffset = 0;

    // pathLength = 100000;
    // setActivePath(currentActiveIndex);

    tocItems.forEach(function(item) {
      const x = item.anchor.offsetLeft - 5,
            height = item.anchor.offsetHeight;
      const y = topOffset;

      const parent = item.item.parentNode;
      
      if (!(parent.classList.contains("section-nav") ||
            parent.parentNode.classList.contains("expand"))) {
        // Top-level section.
        item.pathStart = 0;
        item.pathEnd = 0;
        return;
      }

      if (path.length === 0) {
        path.push( 'M', x, y, 'L', x, y + height );
        item.pathStart = 0;
      } else {
        // Draw an additional line when there's a change in
        // indent levels.
        if (pathIndent !== x) path.push('L', pathIndent, y);
        path.push('L', x, y);

        // Set the current path so that we can measure it.
        tocPath.setAttribute('d', path.join(' '));
        item.pathStart = tocPath.getTotalLength() || 0;

        path.push('L', x, y + height);
      }
      topOffset += height;

      pathIndent = x;
      tocPath.setAttribute('d', path.join(' '));
      item.pathEnd = tocPath.getTotalLength();
    });

    pathLength = tocPath.getTotalLength();
  }

  let currentActiveIndex = null;

  function setActivePath(index) {
    // Specify the visible path or hide the path altogether
    // if there are no visible items.
    if (index !== null) {
      const pathStart = tocItems[index].pathStart;
      const pathEnd = tocItems[index].pathEnd;
      if (pathEnd === 0) {
        // no-op
      } else {
        tocPath.setAttribute('stroke-dashoffset', '1');
        // Set dash end to an infinitely large value to avoid
        // accidental repetition of pattern.
        tocPath.setAttribute(
          'stroke-dasharray',
          '1, ' + pathStart + ', '+ (pathEnd - pathStart) + ', ' + 10000000);
        tocPath.setAttribute('opacity', 1);
      }
      // console.log(index, tocItems[index].href, pathStart, pathEnd, pathLength);
    } else {
      tocPath.setAttribute('opacity', 0);
    }
  }

  function setActiveEntryClass(index, className) {
    // Set CSS classes for the current index and ancestors.
    const isActive = Array(tocItems.length).fill(false);
    // Compute heights of each item after expanding here, because `scrollHeight`
    // does not take into account inner height of nested non-expanded lists that
    // will also be expanded next.
    const expandedHeights = Array(tocItems.length).fill(0);

    if (index !== null) {
      let item = tocItems[index];
      let curLevel = Infinity;
      let accumulateHeight = 0;
      for (let i = index; i >= 0; --i) {
        item = tocItems[i];
        if (item.level < curLevel) {
          curLevel = item.level;
          if (item.subList !== null)
            accumulateHeight += item.subList.scrollHeight;
          expandedHeights[i] = accumulateHeight;
          isActive[i] = true;
        }
      }
    }

    const itemsToAdd = [], itemsToRemove = [];
    const addHeights = [];
    for (let i = 0; i < tocItems.length; ++i) {
      const item = tocItems[i];
      if (item.item.classList.contains(className)) {
        if (!isActive[i]) {
          item.item.classList.remove(className);
          if (item.subList !== null) {
            itemsToRemove.push(item.subList);
          }
        }
      } else {
        if (isActive[i]) {
          item.item.classList.add(className);
          if (item.subList !== null) {
            itemsToAdd.push(item.subList);
            addHeights.push(expandedHeights[i]);
          }
        }
      }
    }

    return {
      add: itemsToAdd,
      addHeights: addHeights,
      remove: itemsToRemove,
    };
  }

  function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
  }

  // Ticket-based queue.
  let transitionTicket = 0, transitionCounter = 0;

  // Credit: https://css-tricks.com/using-css-transitions-auto-dimensions/
  async function toggleItems() {

    // Empty loop waiting for ticket.
    const ticket = transitionCounter++;
    while (ticket !== transitionTicket) {
      await sleep(100);
    }

    // if (ticket + 1 !== transitionCounter) {
    //   transitionTicket = ticket + 1;
    //   return;
    // }

    // Use the latest active index.
    const index = currentActiveIndex;
    itemChanges = setActiveEntryClass(index, "expand");

    if (itemChanges.add.length === 0 && itemChanges.remove.length === 0) {
      // if (ticket + 1 === transitionCounter) {
        // Only perform callback on final ticket.
        // drawPath();
        setActivePath(index);
      // }
      // Null transition, release ticket.
      transitionTicket = ticket + 1;
      return;
    }

    const firstItem = (itemChanges.add.length > 0 ?
                       itemChanges.add[0] : itemChanges.remove[0]);
    const originalTransition = firstItem.style.transition;
    const allItems = itemChanges.add.concat(itemChanges.remove);

    const targetHeight = itemChanges.addHeights;
    allItems.forEach(item => item.style.transition = "");
    for (let item of itemChanges.add) {
      item.style.height = "0";
    }
    for (let item of itemChanges.remove) {
      item.style.height = item.scrollHeight + "px";
    }
    firstItem.offsetHeight;  // trigger reflow

    requestAnimationFrame(function() {
      for (let i = 0; i < itemChanges.add.length; ++i) {
        const item = itemChanges.add[i];
        item.style.height = targetHeight[i] + "px";
      }
      for (let i = 0; i < itemChanges.remove.length; ++i) {
        const item = itemChanges.remove[i];
        item.style.height = "0";
      }
      allItems.forEach(item => item.style.transition = originalTransition);
      firstItem.offsetHeight;  // trigger reflow

      firstItem.addEventListener('transitionend', function(e) {
        // Event listeners are also fired for children nodes.
        if (e.target !== firstItem) return;
        e.target.removeEventListener(e.type, arguments.callee);
        for (let item of itemChanges.add) {
          item.style.height = "auto";
        }
        for (let item of itemChanges.remove) {
          item.style.height = null;
        }
        firstItem.offsetHeight;  // trigger reflow

        // End of transition, release ticket.
        transitionTicket = ticket + 1;
      });

      drawPath();
      setActivePath(index);
    });
  }

  function updateActive(event, forceRedraw = false) {
    const windowHeight = window.innerHeight;

    // We only allow one entry to be active. This entry must satisfy one of the
    // following conditions:
    // 1. Its section is the only section visible on screen.
    // 2. Its title (`targetTop`) is the first title that is within screen bounds.
    const titlePos = tocItems.map(function(item) {
      return item.titleElem.getBoundingClientRect();
    });
    const targetBottom = tocItems.map(function(item) {
      return item.targetBottom.getBoundingClientRect().bottom;
    });

    let index = 0;
    for (; index < tocItems.length; ++index) {
      if (// Any portion of title is within screen bounds.
          (0 < titlePos[index].bottom && titlePos[index].top < windowHeight) ||
          // Section is the only one on screen...
          (titlePos[index].top < 0 &&
            // ... and is the final section.
           ((index === tocItems.length - 1 &&
             targetBottom[index] > 0) ||
            // ... and the next section title is not completely shown.
            (index < tocItems.length - 1 &&
             titlePos[index + 1].bottom > windowHeight)))) {
        break;
      }
    }
    if (index >= tocItems.length) index = null;

    if (currentActiveIndex !== index || forceRedraw) {
      // console.log("redraw", currentActiveIndex, index, forceRedraw);
      currentActiveIndex = index;

      // setActivePath(index);
      setActiveEntryClass(index, "active");

      requestAnimationFrame(function() {
        toggleItems();
      });
    }
  }

  drawPath();
  updateActive(true);
  window.addEventListener('resize', function(event) {
    updateActive(event, true);
  }, false);
  window.addEventListener('scroll', updateActive, false);
</script>


<footer class="site-footer">

  <div class="wrapper">
    <div class="social-links">
      
      <a class="social-link social-github" href="https://github.com/huzecong">
        <i class="icon-github"></i>
      </a>
      
      
      
      <a class="social-link social-rss" href="/feed.xml" target="_blank">
        <i class="icon-rss"></i>
      </a>
    </div>
    <div class="credits">
      KAGAMI, made with <i class="icon-heart"></i> by Kamikat
    </div>
  </div>

</footer>


</body>

</html>
